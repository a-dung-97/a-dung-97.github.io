(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1c508ea"],{"5df3":function(t,e,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=n(e,a),this._i+=t.length,{value:t,done:!1})}))},"948b":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return i})),a.d(e,"a",(function(){return o}));var n=a("b775");function r(t){return Object(n["a"])({url:"/invoices",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/invoices",method:"post",data:t})}function s(t,e){return Object(n["a"])({url:"/invoices/".concat(t),method:"get",params:e})}function i(t,e){return Object(n["a"])({url:"/invoices/".concat(e),method:"put",data:t})}function o(t){return Object(n["a"])({url:"/invoices/".concat(t),method:"delete"})}},e3b2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb-20"},[a("el-col",{attrs:{span:21}},[a("SearchForm",{attrs:{params:t.params}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary",circle:"",icon:"el-icon-plus"},on:{click:function(e){return t.$router.push("/accounting/invoice/create")}}}),t._v(" "),a("el-button",{staticClass:"fr mr-10",attrs:{size:"medium",type:"primary",circle:"",icon:"el-icon-search"},on:{click:t.getData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"handle-delete":t.getData,"update:loading":function(e){t.loading=e}}}),t._v(" "),a("Pagination",{attrs:{pagination:t.pagination},on:{"size-change":function(e){t.params.perPage=e,t.params.page=1,t.getData()},"current-change":function(e){t.params.page=e,t.getData()}}})],1)],1)],1)},r=[],l=(a("96cf"),a("3b8d")),s=a("948b"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{height:"64vh",data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"STT",fixed:"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"210",fixed:"",label:"Mã hóa đơn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"link",attrs:{tag:"a",to:"/accounting/invoice/show/"+e.row.id}},[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"order",width:"210",label:"Đơn hàng"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer",width:"210",label:"Khách hàng"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",width:"210",label:"Trạng thái"}}),t._v(" "),a("el-table-column",{attrs:{width:"150",label:"Ngày tạo"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("datetime")(e.row.created_at)))]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"210",label:"Số tiền thanh toán"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("money")(e.row.payment_amount)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"payment_method",width:"180",label:"Hình thức thanh toán"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",width:"140",label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.$router.push("/accounting/invoice/edit/"+e.row.id)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",size:"medium",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.handleDelete(e.row.id)}}})]}}])})],1)},o=[],c={props:["tableData","loading"],methods:{handleDelete:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("Bạn có chắc chắn muốn xóa?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});case 2:return this.openFullScreen(),t.next=5,Object(s["a"])(e);case 5:this.closeFullScreen(),this.$message.success("Xóa dữ liệu thành công"),this.$emit("handle-delete");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},u=c,d=a("2877"),p=Object(d["a"])(u,i,o,!1,null,null,null),h=p.exports,m=a("333d"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"mb-20",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"mb-10",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"Mã hóa đơn",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("handle-search")}},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"Khách hàng",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("handle-search")}},model:{value:t.params.customer,callback:function(e){t.$set(t.params,"customer",e)},expression:"params.customer"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"Đơn hàng",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("handle-search")}},model:{value:t.params.order,callback:function(e){t.$set(t.params,"order",e)},expression:"params.order"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"Hình thức thanh toán"},model:{value:t.params.paymentMethod,callback:function(e){t.$set(t.params,"paymentMethod",e)},expression:"params.paymentMethod"}},[a("el-option",{attrs:{label:"Tiền mặt",value:"Tiền mặt"}}),t._v(" "),a("el-option",{attrs:{label:"Chuyển khoản",value:"Chuyển khoản"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-select",{staticClass:"w-100",attrs:{size:"small",clearable:"",placeholder:"Người phụ trách"},model:{value:t.params.user,callback:function(e){t.$set(t.params,"user",e)},expression:"params.user"}},t._l(t.userOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticClass:"w-100",attrs:{size:"small",type:"daterange","start-placeholder":"Tạo từ","end-placeholder":"Tạo đến",format:"dd/MM/yyyy","value-format":"yyyy-MM-dd"},model:{value:t.params.createdAt,callback:function(e){t.$set(t.params,"createdAt",e)},expression:"params.createdAt"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"Trạng thái"},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}},t._l(t.catalogs["Trạng thái"],(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)],1)},g=[],b=(a("ac6a"),a("5df3"),{props:["params"],data:function(){return{catalogs:{"Trạng thái":[]},options:"",loading:!1}},created:function(){Promise.all([this.getCatalog("Hóa đơn","Trạng thái"),this.getUsers()])}}),v=b,y=Object(d["a"])(v,f,g,!1,null,null,null),_=y.exports,k={components:{TableData:h,Pagination:m["a"],SearchForm:_},data:function(){return{tableData:[],loading:!1,pagination:{},params:{perPage:10,page:1,code:"",customer:"",order:"",user:"",status:"",paymentMethod:"",createdAt:""}}},methods:{getData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["b"])(this.params);case 4:e=t.sent,a=e.data,n=e.meta,this.tableData=a,this.pagination=n,this.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getData()}},w=k,x=Object(d["a"])(w,n,r,!1,null,null,null);e["default"]=x.exports}}]);