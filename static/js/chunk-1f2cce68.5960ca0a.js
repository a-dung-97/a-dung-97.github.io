(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f2cce68"],{1182:function(t,e,n){"use strict";var a=n("134b"),o=n.n(a);o.a},"11e9":function(t,e,n){var a=n("52a7"),o=n("4630"),r=n("6821"),i=n("6a99"),s=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=r(t),e=i(e,!0),l)try{return c(t,e)}catch(n){}if(s(t,e))return o(!a.f.call(t,e),t[e])}},"134b":function(t,e,n){},"2ebe":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("Infomation")],1)},o=[],r=(n("a881"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push("/business/quote/edit/"+t.$route.params.id)}}},[t._v("Sửa")]),t._v(" "),n("el-button",{staticClass:"fr mr-10",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push("/business/quote/create/?cloneId="+t.$route.params.id)}}},[t._v("Sao chép")]),t._v(" "),n("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(e){t.showDialog1=!0}}},[t._v("In")]),t._v(" "),n("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:t.showFormSendQuote}},[t._v("Gửi email")])],1)],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("Thông tin báo giá")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Chủ sở hữu")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.owner))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Mã")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.code))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Khách hàng")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.customer?t.data.customer.name:""))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Liên hệ")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.contact?t.data.contact.name:""))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Địa chỉ giao hàng")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.delivery_address))])])],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Ngày báo giá")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t._f("date")(t.data.quote_date)))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Ngày hết hiệu lực")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t._f("date")(t.data.expiration_date)))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Trạng thái")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.status))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Tỷ giá")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.exchange_rate))])])],1),t._v(" "),n("el-row",{staticClass:"item"},[n("el-col",{attrs:{span:10}},[n("p",{staticClass:"my-label"},[t._v("Địa chỉ hóa đơn")])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.invoice_address))])])],1)],1)],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("Ghi chú")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.description))])])],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("Giấy phép và điều kiện")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.license_and_conditions))])])],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("Vận chuyển")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("p",{staticClass:"content"},[t._v(t._s(t.data.transport))])])],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("Thông tin sản phẩm")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[t.data?n("el-table",{attrs:{data:t.data.products}},[n("el-table-column",{attrs:{type:"index",width:"50",align:"center",label:"STT"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Tên"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"Giá bán"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("money")(e.row.price)))]}}],null,!1,2841422553)}),t._v(" "),n("el-table-column",{attrs:{prop:"quantity",align:"center",width:"100",label:"Số lượng"}}),t._v(" "),n("el-table-column",{attrs:{prop:"discount",align:"center",width:"120",label:"Chiết khấu(%)"}}),t._v(" "),n("el-table-column",{attrs:{label:"Tiền chiết khấu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("money")((t.data.products[e.$index].quantity*t.data.products[e.$index].price*t.data.products[e.$index].discount/100).toFixed(2))))]}}],null,!1,3174354112)}),t._v(" "),n("el-table-column",{attrs:{prop:"tax",width:"80",align:"center",label:"Thuế(%)"}}),t._v(" "),n("el-table-column",{attrs:{label:"Tiền thuế"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("money")((t.data.products[e.$index].quantity*t.data.products[e.$index].price*t.data.products[e.$index].tax/100).toFixed(2))))]}}],null,!1,993904)}),t._v(" "),n("el-table-column",{attrs:{label:"Tiền hàng(đ)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("money")((t.data.products[e.$index].quantity*t.data.products[e.$index].price).toFixed(2))))]}}],null,!1,275512089)})],1):t._e()],1),t._v(" "),n("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7,offset:17}},[n("p",[t._v("Tổng tiền hàng: "+t._s(t._f("money")(t.total.toFixed(2)))+" đ")]),t._v(" "),n("p",[t._v("Tổng tiền thuế: "+t._s(t._f("money")(t.tax.toFixed(2)))+" đ")]),t._v(" "),n("p",[t._v("Tổng tiền chiết khấu: "+t._s(t._f("money")(t.discount.toFixed(2)))+" đ")]),t._v(" "),n("p",[t._v("Tổng thanh toán: "+t._s(t._f("money")((t.total+t.tax-t.discount).toFixed(2)))+" đ")]),t._v(" "),n("p",[t._v("Phí giao hàng: "+t._s(t._f("money")(t.fee.toFixed(2)))+" đ")]),t._v(" "),n("p",[t._v("Tổng thanh toán: "+t._s(t._f("money")((t.total+t.tax-t.discount+t.fee).toFixed(2)))+" đ")])])],1),t._v(" "),n("h3",{staticClass:"title"},[t._v("\n        Cơ hội\n        "),t.data.opportunity?t._e():n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-row",[n("el-table",{attrs:{data:t.data.opportunity}},[n("el-table-column",{attrs:{prop:"name",label:"Tên"}}),t._v(" "),n("el-table-column",{attrs:{prop:"owner",label:"Chủ sở hữu"}}),t._v(" "),n("el-table-column",{attrs:{prop:"source",label:"Nguồn"}}),t._v(" "),n("el-table-column",{attrs:{prop:"customer",label:"Khách hàng"}}),t._v(" "),n("el-table-column",{attrs:{label:"Ngày tạo"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("datetime")(e.row.created_at)))]}}])})],1)],1),t._v(" "),n("Order",{attrs:{quote:t.data}}),t._v(" "),t.quote?n("SendingEmail",{attrs:{"show-dialog":t.showDialog,type:"customer",quote:t.quote},on:{"update:showDialog":function(e){t.showDialog=e},"update:show-dialog":function(e){t.showDialog=e}}}):t._e(),t._v(" "),n("el-dialog",{attrs:{center:"",title:"Báo giá",visible:t.showDialog1,top:"5vh",width:"80%"},on:{"update:visible":function(e){t.showDialog1=e}}},[t.showDialog1?n("div",{attrs:{id:"print"},domProps:{innerHTML:t._s(t.quote.content)}}):t._e(),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"medium"},on:{click:function(e){t.showDialog1=!1}}},[t._v("Hủy")]),t._v(" "),n("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.$htmlToPaper("print")}}},[t._v("In")])],1)])],1)}),i=[],s=(n("ac6a"),n("5df3"),n("768b")),l=(n("96cf"),n("3b8d")),c=(n("c5f6"),n("a9e6")),u=n("7d3d"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"mb-20"},[n("h3",{staticClass:"title"},[t._v("\n        Danh sách đơn hàng\n        "),n("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.$router.push({name:"Thêm mới đơn hàng",params:{quote:t.quote}})}}})],1),t._v(" "),n("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"handle-delete":t.getData,"update:loading":function(e){t.loading=e}}})],1)},d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"STT"}}),t._v(" "),n("el-table-column",{attrs:{label:"Mã"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{staticClass:"link",attrs:{tag:"a",to:"/business/order/show/"+e.row.id}},[t._v(t._s(e.row.code))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"Trạng thái"}}),t._v(" "),n("el-table-column",{attrs:{prop:"owner",label:"Chủ sở hữu"}}),t._v(" "),n("el-table-column",{attrs:{prop:"delivery_address",label:"Địa chỉ giao hàng"}}),t._v(" "),n("el-table-column",{attrs:{label:"Ngày đặt hàng"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("date")(e.row.order_date)))]}}])})],1)],1)},h=[],_={props:["tableData","loading"]},v=_,m=n("2877"),b=Object(m["a"])(v,f,h,!1,null,null,null),g=b.exports,y={props:["quote"],components:{TableData:g},data:function(){return{tableData:[],loading:!1}},methods:{getData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(c["b"])(this.$route.params.id);case 4:e=t.sent,n=e.data,e.meta,this.tableData=n,this.loading=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getData()}},w=y,C=Object(m["a"])(w,p,d,!1,null,null,null),x=C.exports,O={components:{Order:x,SendingEmail:u["a"]},data:function(){return{data:{products:[]},showDialog:!1,showDialog1:!1,quote:""}},computed:{fee:function(){return Number(this.data.shipping_fee)},total:function(){return 0==this.data.products.length?0:this.data.products.map((function(t){return t.quantity*t.price})).reduce((function(t,e){return t+e}))},tax:function(){return 0==this.data.products.length?0:this.data.products.map((function(t){return t.quantity*t.price*t.tax/100})).reduce((function(t,e){return t+e}))},discount:function(){return 0==this.data.products.length?0:this.data.products.map((function(t){return t.quantity*t.price*t.discount/100})).reduce((function(t,e){return t+e}))}},methods:{showFormSendQuote:function(){""!=this.quote.email?this.showDialog=!0:this.$message.error("Khách hàng không có email")},getQuote:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.openFullScreen(),t.next=4,Promise.all([Object(c["e"])(this.$route.params.id),Object(c["d"])(this.$route.params.id)]);case 4:e=t.sent,n=Object(s["a"])(e,2),a=n[0],o=n[1],this.data=a.data,this.quote=o.data,this.data.opportunity=this.data.opportunity?[this.data.opportunity]:[],this.closeFullScreen(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),this.closeFullScreen();case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getQuote()}},$=O,S=(n("1182"),Object(m["a"])($,r,i,!1,null,"850f4000",null)),j=S.exports,D={components:{Infomation:j}},E=D,k=Object(m["a"])(E,a,o,!1,null,null,null);e["default"]=k.exports},3577:function(t,e,n){"use strict";e["a"]={methods:{checkEditor:function(t){return""!=t&&"<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n\n</body>\n</html>"!=t||(this.$message.error("Bạn chưa nhập nội dung"),!1)}}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"5d73":function(t,e,n){t.exports=n("469f")},"5dbc":function(t,e,n){var a=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&a(r)&&o&&o(t,r),t}},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})}))},"768b":function(t,e,n){"use strict";var a=n("a745"),o=n.n(a);function r(t){if(o()(t))return t}var i=n("5d73"),s=n.n(i),l=n("c8bb"),c=n.n(l);function u(t,e){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=s()(t);!(a=(i=l.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(u){o=!0,r=u}finally{try{a||null==l["return"]||l["return"]()}finally{if(o)throw r}}return n}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return r(t)||u(t,e)||p()}n.d(e,"a",(function(){return d}))},"7d7b":function(t,e,n){var a=n("e4ae"),o=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},"8b97":function(t,e,n){var a=n("d3f4"),o=n("cb7c"),r=function(t,e){if(o(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:r}},9093:function(t,e,n){var a=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,o)}},a881:function(t,e,n){"use strict";e["a"]={data:function(){return{count:{file:0,note:0,task:0,opportunity:0,order:0,quote:0,email:0,contact:0,call:0,appointment:0}}},methods:{handleLoad:function(t,e){this.count[t]=e}}}},a9e6:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u}));var a=n("b775");function o(t){return Object(a["a"])({url:"/quotes",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/quotes/".concat(t),method:"get"})}function i(t){return Object(a["a"])({url:"/quotes",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/quotes/".concat(e),method:"put",data:t})}function l(t){return Object(a["a"])({url:"/quotes/".concat(t),method:"delete"})}function c(t){return Object(a["a"])({url:"/quotes/".concat(t,"/order"),method:"get"})}function u(t){return Object(a["a"])({url:"/quotes/".concat(t,"/send"),method:"get"})}},aa77:function(t,e,n){var a=n("5ca1"),o=n("be13"),r=n("79e5"),i=n("fdef"),s="["+i+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),p=function(t,e,n){var o={},s=r((function(){return!!i[t]()||l[t]()!=l})),c=o[t]=s?e(d):i[t];n&&(o[n]=c),a(a.P+a.F*s,"String",o)},d=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},b2b3:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var a=n("b775");function o(t){return Object(a["a"])({url:"/emails",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/emails",method:"post",data:t})}},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var a=function(){return"undefined"!==typeof window?window:t},o=function(){var t=a();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},c5f6:function(t,e,n){"use strict";var a=n("7726"),o=n("69a8"),r=n("2d95"),i=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,p=n("86cc").f,d=n("aa77").trim,f="Number",h=a[f],_=h,v=h.prototype,m=r(n("2aeb")(v))==f,b="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():d(e,3);var n,a,o,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+e}for(var i,l=e.slice(2),c=0,u=l.length;c<u;c++)if(i=l.charCodeAt(c),i<48||i>o)return NaN;return parseInt(l,a)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?l((function(){v.valueOf.call(n)})):r(n)!=f)?i(new _(g(e)),n,h):g(e)};for(var y,w=n("9e1e")?c(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;w.length>C;C++)o(_,y=w[C])&&!o(h,y)&&p(h,y,u(_,y));h.prototype=v,v.constructor=h,n("2aba")(a,f,h)}},ca72:function(t,e,n){"use strict";var a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==a.indexOf(t)},r=function(t,e,n){Object.keys(e).filter(o).forEach((function(a){var o=e[a];"function"===typeof o&&("onInit"===a?o(t,n):n.on(a.substring(2),(function(t){return o(t,n)})))}))},i=function(t,e){var n,a=t.$props.modelEvents?t.$props.modelEvents:null,o=Array.isArray(a)?a.join(" "):a;t.$watch("value",(function(t,a){e&&"string"===typeof t&&t!==n&&t!==a&&(e.setContent(t),n=t)})),e.on(o||"change keyup undo redo",(function(){n=e.getContent(),t.$emit("input",n)}))},s=function(t,e,n){var a=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(a||o),e.$listeners.input&&i(e,n),r(t,e.$listeners,n)},l=0,c=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return l++,t+"_"+n+l+String(e)},u=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},p=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,e){return p(t).concat(p(e))},f=function(t,e,n,a){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.addEventListener("load",a),o.src=n,e.head&&e.head.appendChild(o)},h=function(){return{listeners:[],scriptId:c("tiny-script"),scriptLoaded:!1}},_=function(t,e,n,a){t.scriptLoaded?a():(t.listeners.push(a),e.getElementById(t.scriptId)||f(t.scriptId,e,n,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},v=n("c4a9"),m={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},b=function(){return b=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},b.apply(this,arguments)},g=h(),y=function(t,e,n){return t(n||"div",{attrs:{id:e}})},w=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},C=function(t){return function(){var e=b({},t.$props.init,{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:d(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return s(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});u(t.element)&&(t.element.style.visibility=""),Object(v["a"])().init(e)}},x={props:m,created:function(){this.elementId=this.$props.id||c("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(v["a"])())C(this)();else if(this.element&&this.element.ownerDocument){var t=this.element.ownerDocument,e=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";_(g,t,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+e+"/tinymce.min.js",C(this))}},beforeDestroy:function(){null!==Object(v["a"])()&&Object(v["a"])().remove(this.editor)},render:function(t){return this.inlineEditor?y(t,this.elementId,this.$props.tagName):w(t,this.elementId)}};e["a"]=x},e3be:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return l}));var a=n("b775");function o(t){return Object(a["a"])({url:"/email-templates",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/email-templates/".concat(t),method:"get"})}function i(t){return Object(a["a"])({url:"/email-templates",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/email-templates/".concat(e),method:"put",data:t})}function l(t){return Object(a["a"])({url:"/email-templates/".concat(t),method:"delete"})}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);