(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b32c7b8"],{4424:function(t,a,e){"use strict";e.d(a,"c",(function(){return c})),e.d(a,"d",(function(){return l})),e.d(a,"b",(function(){return n})),e.d(a,"e",(function(){return i})),e.d(a,"a",(function(){return o}));var s=e("b775");function c(t){return Object(s["a"])({url:"/email-campaigns",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/email-campaigns/".concat(t),method:"get"})}function n(t,a){return Object(s["a"])({url:"/email-campaigns/".concat(a,"/list"),method:"get",params:t})}function i(t){return Object(s["a"])({url:"/email-campaigns",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/email-campaigns/".concat(t),method:"delete"})}},5941:function(t,a,e){},"5e49":function(t,a,e){"use strict";var s=e("5941"),c=e.n(s);c.a},ac56:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("Information")],1)},c=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-card",[e("h3",{staticClass:"title"},[t._v("\n        Thông tin chiến dịch\n        "),e("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small",icon:"el-icon-refresh",circle:""},on:{click:t.getCampaign}})],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Tên chiến dịch")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.name))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Tiêu đề")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.subject))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Mô tả")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.description))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Ngày tạo")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t._f("date")(t.data.created_at)))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Gửi từ tên")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.from_name))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Gửi từ email")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.from_email))])]),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Tổng gửi")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="total"}}},[t._v(t._s(t.data.total_count))])])])],1)],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Thành công")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="success"}}},[t._v(t._s(t.data.success_count))]),t._v("\n                        ("+t._s(t.rate(t.data.success_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Đã nhận")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="delivered"}}},[t._v(t._s(t.data.delivered_count))]),t._v("\n                        ("+t._s(t.rate(t.data.delivered_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Click")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="clicked"}}},[t._v(t._s(t.data.clicked_count))]),t._v("\n                        ("+t._s(t.rate(t.data.clicked_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Mở")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="opened"}}},[t._v(t._s(t.data.opened_count))]),t._v("\n                        ("+t._s(t.rate(t.data.opened_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Trả lại")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="failed"}}},[t._v(t._s(t.data.failed_count))]),t._v("\n                        ("+t._s(t.rate(t.data.failed_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Bỏ theo dõi")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="unsubscribed"}}},[t._v(t._s(t.data.unsubscribed_count))]),t._v("\n                        ("+t._s(t.rate(t.data.unsubscribed_count))+")\n                    ")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Đánh dấu spam")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[e("span",{staticClass:"status-link",on:{click:function(a){t.mode="complained"}}},[t._v(t._s(t.data.complained_count))]),t._v("\n                        ("+t._s(t.rate(t.data.complained_count))+")\n                    ")])])],1)],1)],1),t._v(" "),e("Detail",{attrs:{success:t.data.success_count>0,mode:t.mode}})],1)},n=[],i=(e("96cf"),e("3b8d")),o=e("4424"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",[e("h3",{staticClass:"title"},[t._v("\n        Danh sách email gửi - "+t._s(t.event.label)+"\n        "),e("el-input",{staticClass:"fr",staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"Tìm kiếm theo tên hoặc email",clearable:""},model:{value:t.params.search,callback:function(a){t.$set(t.params,"search",a)},expression:"params.search"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getData},slot:"append"})],1)],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{height:"400px",data:t.tableData}},[e("el-table-column",{attrs:{width:"200",prop:"name",label:"Tên"}}),t._v(" "),e("el-table-column",{attrs:{width:"150",prop:"type",label:"Loại"}}),t._v(" "),e("el-table-column",{attrs:{width:"220",prop:"email",label:"Email"}}),t._v(" "),e("el-table-column",{attrs:{prop:"delivered",align:"center",label:"Đã nhận"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.delivered?e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}}):e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"opened",align:"center",label:"Mở"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.opened?e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}}):e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"clicked",align:"center",label:"Click"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.clicked?e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}}):e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"failed",align:"center",label:"Trả lại"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.failed?e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}}):e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"unsubscribed",align:"center",label:"Bỏ theo dõi"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.unsubscribed?e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}}):e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"complained",align:"center",label:"Spam"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.complained?e("i",{staticClass:"el-icon-close",staticStyle:{color:"#e74c3c"}}):e("i",{staticClass:"el-icon-check",staticStyle:{color:"#2ecc71"}})]}}])})],1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{"size-change":function(a){t.params.perPage=a,t.params.page=1,t.getData()},"current-change":function(a){t.params.page=a,t.getData()}}})],1)},u=[],p=e("db72"),d=e("333d"),_={props:["mode","success"],components:{Pagination:d["a"]},watch:{mode:function(){this.params.search="",this.getData()}},computed:{event:function(){switch(this.mode){case"total":return{label:"Tổng gửi",value:""};case"success":return{label:"Thành công",value:""};case"delivered":return{label:"Đã nhận",value:"delivered"};case"opened":return{label:"Mở",value:"opened"};case"clicked":return{label:"Click",value:"clicked"};case"failed":return{label:"Trả lại",value:"failed"};case"complained":return{label:"Đánh dấu spam",value:"complained"};case"unsubscribed":return{label:"Bỏ theo dõi",value:"unsubscribed"};default:break}}},data:function(){return{tableData:[],loading:!1,pagination:{},params:{perPage:10,page:1,search:""}}},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(o["b"])(Object(p["a"])({},this.params,{event:this.event.value}),this.$route.params.id);case 4:a=t.sent,e=a.data,this.tableData=this.success||"success"!=this.mode?e:[],this.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.loading=!1;case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getData()}},m=_,v=(e("d44f"),e("2877")),h=Object(v["a"])(m,r,u,!1,null,"d738b4bc",null),b=h.exports,f={components:{Detail:b},data:function(){return{mode:"total",data:""}},methods:{rate:function(t){if(""!=this.data)return(100*t/this.data.total_count).toFixed(2)+"%"},getCampaign:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.openFullScreen(),t.next=4,Object(o["d"])(this.$route.params.id);case 4:a=t.sent,e=a.data,this.data=e,this.mode="total",this.closeFullScreen(),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),this.closeFullScreen();case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getCampaign()}},C=f,g=(e("5e49"),Object(v["a"])(C,l,n,!1,null,"a1f8c004",null)),k=g.exports,w={components:{Information:k}},y=w,S=Object(v["a"])(y,s,c,!1,null,null,null);a["default"]=S.exports},d44f:function(t,a,e){"use strict";var s=e("f192"),c=e.n(s);c.a},f192:function(t,a,e){}}]);