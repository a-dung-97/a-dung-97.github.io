(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7c5cee"],{"0baa":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return l}));var n=a("b775");function r(t,e){return Object(n["a"])({url:"/tags/".concat(e),method:"delete",data:t})}function o(t,e){return Object(n["a"])({url:"/tags/".concat(e),method:"put",data:t})}function s(t,e){return Object(n["a"])({url:"/tags",method:"get",params:{type:t,name:e}})}function l(t,e){return Object(n["a"])({url:"/tags/".concat(t,"/").concat(e),method:"get"})}},"4ebe":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return c}));var n=a("b775");function r(t){return Object(n["a"])({url:"/notes",method:"get",params:t})}function o(t,e){return Object(n["a"])({url:"/notes/".concat(e),method:"put",data:t})}function s(t){return Object(n["a"])({url:"/notes/".concat(t),method:"delete"})}function l(t,e,a){return Object(n["a"])({url:"/notes/".concat(e,"/").concat(a),method:"post",data:t})}function c(t,e,a){return Object(n["a"])({url:"/notes/".concat(e,"/").concat(a),method:"get",params:t})}},"5df3":function(t,e,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=n(e,a),this._i+=t.length,{value:t,done:!1})}))},e67d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb-20"},[a("el-col",{attrs:{span:16}},[a("SearchForm",{attrs:{params:t.params}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary",icon:"el-icon-search",circle:""},on:{click:t.getData}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"update:loading":function(e){t.loading=e}}}),t._v(" "),a("Pagination",{attrs:{pagination:t.pagination},on:{"size-change":function(e){t.params.perPage=e,t.params.page=1,t.getData()},"current-change":function(e){t.params.page=e,t.getData()}}})],1)],1)],1)},r=[],o=(a("96cf"),a("3b8d")),s=a("4ebe"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{height:"62vh",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"title",width:"250",label:"Tiêu đề"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"Nội dung"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",width:"120",label:"Loại"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"Đối tượng"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"link",attrs:{tag:"a",to:""+t.convertType(e.row.type)+e.row.id}},[t._v(t._s(e.row.noteable.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"150",label:"Ngày tạo"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("datetime")(e.row.created_at)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"user",width:"200",label:"Người tạo"}})],1)},c=[],i={props:["tableData","loading"],methods:{convertType:function(t){switch(t){case"Tiềm năng":return"/customer/lead/show/";case"Liên hệ":return"/customer/contact/show/";case"Khách hàng":return"/customer/customer/show/";case"Sản phẩm":return"/goods/product/show/";case"Cơ hội":return"/business/opportunity/show/";default:break}}}},u=i,p=a("2877"),d=Object(p["a"])(u,l,c,!1,null,null,null),m=d.exports,h=a("333d"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"mb-20",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"mb-10",attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"medium",placeholder:"Tiêu đề",clearable:""},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{size:"medium",placeholder:"Nội dung",clearable:""},model:{value:t.params.content,callback:function(e){t.$set(t.params,"content",e)},expression:"params.content"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"medium",clearable:"",placeholder:"Loại"},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},[a("el-option",{attrs:{label:"Tiềm năng",value:"App\\Lead"}}),t._v(" "),a("el-option",{attrs:{label:"Khách hàng",value:"App\\Customer"}}),t._v(" "),a("el-option",{attrs:{label:"Liên hệ",value:"App\\Contact"}}),t._v(" "),a("el-option",{attrs:{label:"Sản phẩm",value:"App\\Product"}}),t._v(" "),a("el-option",{attrs:{label:"Cơ hội",value:"App\\Opportunity"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{staticClass:"w-100",attrs:{size:"medium",type:"daterange","start-placeholder":"Tạo từ","end-placeholder":"Tạo đến",format:"dd/MM/yyyy","value-format":"yyyy-MM-dd"},model:{value:t.params.createdAt,callback:function(e){t.$set(t.params,"createdAt",e)},expression:"params.createdAt"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"w-100",attrs:{size:"medium",clearable:"",placeholder:"Chủ sở hữu"},model:{value:t.params.user,callback:function(e){t.$set(t.params,"user",e)},expression:"params.user"}},t._l(t.userOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)],1)},g=[],f=(a("ac6a"),a("5df3"),a("0baa")),v={props:["params"],data:function(){return{catalogs:{"Nguồn":[],"Ngành nghề":[]},options:"",loading:!1}},methods:{remoteMethod:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e){t.next=10;break}return this.loading=!0,t.next=4,Object(f["d"])("lead",e);case 4:a=t.sent,n=a.data,this.options=n,this.loading=!1,t.next=11;break;case 10:this.options=[];case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){Promise.all([this.getUsers()])}},w=v,_=Object(p["a"])(w,b,g,!1,null,null,null),y=_.exports,k={components:{TableData:m,Pagination:h["a"],SearchForm:y},data:function(){return{tableData:[],loading:!1,pagination:{},params:{perPage:10,page:1,title:"",content:"",user:"",type:"",createdAt:""}}},methods:{getData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["d"])(this.params);case 4:e=t.sent,a=e.data,n=e.meta,this.tableData=a,this.pagination=n,this.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getData()}},O=k,j=Object(p["a"])(O,n,r,!1,null,null,null);e["default"]=j.exports}}]);