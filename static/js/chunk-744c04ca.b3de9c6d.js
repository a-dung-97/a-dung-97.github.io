(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-744c04ca"],{7562:function(e,t,r){},ab8b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("ProductDetail",{attrs:{"is-edit":!1}})],1)},n=[],o=r("df1d"),i={components:{ProductDetail:o["a"]}},s=i,l=r("2877"),c=Object(l["a"])(s,a,n,!1,null,null,null);t["default"]=c.exports},bc50:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s}));var a=r("b775");function n(e){return Object(a["a"])({url:"/products",method:"get",params:e})}function o(e,t){return Object(a["a"])({url:"/products/".concat(e),method:"get",params:t})}function i(e){return Object(a["a"])({url:"/products",method:"post",data:e})}function s(e,t){return Object(a["a"])({url:"/products/".concat(t),method:"put",data:e})}},d0b8:function(e,t,r){"use strict";var a=r("7562"),n=r.n(a);n.a},df1d:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"Xin vui lòng chờ","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("el-col",{attrs:{span:24}},[r("el-row",[r("el-col",{attrs:{span:12}},[e.isShow?r("el-row",{attrs:{gutter:50}},e._l(e.form.images,(function(e){return r("el-col",{key:e.name,attrs:{span:4}},[r("el-avatar",{attrs:{fit:"fill",size:100,src:e.path}})],1)})),1):r("UploadImages",{attrs:{images:e.form.images},on:{"handle-upload":function(t){e.form.images=[].concat(t)}}})],1),e._v(" "),r("el-col",{attrs:{offset:0==e.form.images.length&&e.isShow?12:0,span:12}},[e.isEdit?r("el-button",{staticClass:"fr",attrs:{type:"success"},on:{click:e.updateProduct}},[e._v("Sửa sản phẩm")]):e.isShow?r("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/goods/product/edit/"+e.form.id)}}},[e._v("Sửa sản phẩm")]):r("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:e.createProduct}},[e._v("Thêm sản phẩm")])],1)],1)],1),e._v(" "),r("el-form",{ref:"form",attrs:{disabled:e.isShow,model:e.form,rules:e.rules,"label-position":"left","label-width":"120px"}},[r("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("Thông tin sản phẩm")])]),e._v(" "),r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"Loại"}},[r("el-switch",{attrs:{"active-value":"product","inactive-value":"service","active-text":"Hàng hóa","inactive-text":"Dịch vụ"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Tên",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Mã",prop:"code"}},[r("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Đơn vị"}},[r("el-input",{model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Nhà sản xuất"}},[r("el-input",{model:{value:e.form.manufacturer,callback:function(t){e.$set(e.form,"manufacturer",t)},expression:"form.manufacturer"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Nhãn hiệu"}},[r("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Mã vạch"}},[r("el-input",{model:{value:e.form.barcode,callback:function(t){e.$set(e.form,"barcode",t)},expression:"form.barcode"}})],1)],1)],1)],1)],1),e._v(" "),r("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("Thông tin giá")])]),e._v(" "),r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Giá mua"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.form.perchase_price,callback:function(t){e.$set(e.form,"perchase_price",t)},expression:"form.perchase_price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Thuế"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.form.tax,callback:function(t){e.$set(e.form,"tax",t)},expression:"form.tax"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Chi tiết mua"}},[r("el-input",{model:{value:e.form.perchase_detail,callback:function(t){e.$set(e.form,"perchase_detail",t)},expression:"form.perchase_detail"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Giá bán"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:e.form.sale_price,callback:function(t){e.$set(e.form,"sale_price",t)},expression:"form.sale_price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Nhà phân phối"}},[r("el-input",{model:{value:e.form.distributor,callback:function(t){e.$set(e.form,"distributor",t)},expression:"form.distributor"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Chi tiết bán"}},[r("el-input",{model:{value:e.form.sale_detail,callback:function(t){e.$set(e.form,"sale_detail",t)},expression:"form.sale_detail"}})],1)],1)],1)],1)],1)],1)],1)},n=[],o=(r("96cf"),r("3b8d")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("vue-upload-multiple-image",{attrs:{"data-images":e.images,idUpload:"myIdUpload",editUpload:"myIdEdit"},on:{"upload-success":e.uploadImageSuccess,"before-remove":e.beforeRemove,"edit-image":e.editImage,"mark-is-primary":e.markIsPrimary}})},s=[],l=r("fc5c"),c=(r("bc3a"),{props:["images"],components:{VueUploadMultipleImage:l["a"]},methods:{uploadImageSuccess:function(e,t,r){this.$emit("handle-upload",r)},beforeRemove:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("Bạn có muốn xóa ảnh này?","Cảnh báo",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});case 2:r(),this.$emit("handle-upload",a);case 4:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}(),editImage:function(e,t,r){this.$emit("handle-upload",r)},markIsPrimary:function(e,t){this.$emit("handle-upload",t)}}}),u=c,m=(r("d0b8"),r("2877")),d=Object(m["a"])(u,i,s,!1,null,"cf1de788",null),p=d.exports,f=r("bc50"),h={components:{UploadImages:p},props:["isEdit","isShow"],data:function(){return{form:{id:"",type:"product",name:"",code:"",unit:"",manufacturer:"",brand:"",barcode:"",perchase_price:0,tax:"",perchase_detail:"",sale_price:"",distributor:"",sale_detail:"",images:[]},loading:"",rules:{name:[{required:!0,message:"Hãy nhập tên sản phẩm",trigger:"blur"}],code:[{required:!0,message:"Hãy nhập mã sản phẩm",trigger:"blur"}]}}},methods:{createProduct:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["form"].validate();case 3:return this.loading=!0,e.next=6,Object(f["c"])(this.form);case 6:t=e.sent,r=t.data,this.loading=!1,this.$router.push("/goods/product/show/".concat(r.id)),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.loading=!1;case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),getProduct:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,Object(f["b"])(this.$route.params.id,{edit:!0});case 4:for(a in t=e.sent,r=t.data,this.form)this.form[a]=r[a];this.loading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),this.loading=!1;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),updateProduct:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,this.$refs["form"].validate();case 4:return e.next=6,Object(f["d"])(this.form,this.$route.params.id);case 6:e.sent,this.loading=!1,this.$router.push("/goods/product/show/".concat(this.$route.params.id)),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),this.loading=!1;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},created:function(){(this.isEdit||this.isShow)&&this.getProduct()}},b=h,v=Object(m["a"])(b,a,n,!1,null,null,null);t["a"]=v.exports}}]);