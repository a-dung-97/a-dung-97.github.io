(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ad2bf8a"],{"20d6":function(t,e,a){"use strict";var r=a("5ca1"),n=a("0a49")(6),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},"27be":function(t,e,a){},"34eb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"Thông tin"}},[a("Information")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Đính kèm "+(t.count.file>0?"("+t.count.file+")":"")}},[a("File",{attrs:{type:"product"},on:{"handle-load":function(e){return t.handleLoad("file",e)}}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Ghi chú "+(t.count.note>0?"("+t.count.note+")":"")}},[a("Note",{attrs:{type:"product"},on:{"handle-load":function(e){return t.handleLoad("note",e)}}})],1)],1)],1)},n=[],s=a("a881"),o=a("df1d"),l=a("acfc"),c=a("bb4d"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:50}},t._l(t.data.images,(function(t){return a("el-col",{key:t.name,attrs:{span:4}},[a("el-avatar",{attrs:{fit:"fill",size:100,src:t.path}})],1)})),1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push("/goods/product/edit/"+t.$route.params.id)}}},[t._v("Sửa")])],1)],1),t._v(" "),a("h3",{staticClass:"title"},[t._v("Thông tin sản phẩm")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Tên sản phẩm")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.name))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Mã sản phẩm")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.code))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Loại")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s("product"==t.data.type?"Hàng hóa":"Dịch vụ"))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Đơn vị")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.unit))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Nhãn hiệu")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.brand))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Mã vạch")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.barcode))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Nhà sản xuất")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.manufacturer))])])],1)],1)],1),t._v(" "),a("h3",{staticClass:"title"},[t._v("Chi tiết giá")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Giá mua")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t._f("money")(t.data.perchase_price)))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Thuế")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.tax)+" %")])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Chi tiết mua")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.perchase_detail))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Giá bán")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t._f("money")(t.data.sale_price)))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Nhà phân phối")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.distributor))])])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:10}},[a("p",{staticClass:"my-label"},[t._v("Chi tiết bán")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("p",{staticClass:"content"},[t._v(t._s(t.data.sale_detail))])])],1)],1)],1)],1)},u=[],p=(a("96cf"),a("3b8d")),m=a("bc50"),d={data:function(){return{data:""}},methods:{getProduct:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.openFullScreen(),t.next=4,Object(m["b"])(this.$route.params.id);case 4:e=t.sent,a=e.data,this.data=a,this.closeFullScreen(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),this.closeFullScreen();case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getProduct()}},f=d,h=(a("3b70"),a("2877")),v=Object(h["a"])(f,i,u,!1,null,"3187759c",null),b=v.exports,_={components:{ProductDetail:o["a"],Note:l["a"],File:c["a"],Information:b},mixins:[s["a"]]},g=_,w=Object(h["a"])(g,r,n,!1,null,null,null);e["default"]=w.exports},"3b70":function(t,e,a){"use strict";var r=a("27be"),n=a.n(r);n.a},"4ebe":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return c}));var r=a("b775");function n(t){return Object(r["a"])({url:"/notes",method:"get",params:t})}function s(t,e){return Object(r["a"])({url:"/notes/".concat(e),method:"put",data:t})}function o(t){return Object(r["a"])({url:"/notes/".concat(t),method:"delete"})}function l(t,e,a){return Object(r["a"])({url:"/notes/".concat(e,"/").concat(a),method:"post",data:t})}function c(t,e,a){return Object(r["a"])({url:"/notes/".concat(e,"/").concat(a),method:"get",params:t})}},7562:function(t,e,a){},"92de":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o}));var r=a("b775");function n(t){return Object(r["a"])({url:"/files/".concat(t),method:"delete"})}function s(t){return Object(r["a"])({url:"/files/download",method:"post",data:t,responseType:"arraybuffer"})}function o(t,e,a){return Object(r["a"])({url:"/files/".concat(e,"/").concat(a),method:"get",params:t})}},a881:function(t,e,a){"use strict";e["a"]={data:function(){return{count:{file:0,note:0,task:0,opportunity:0,order:0,quote:0,email:0,contact:0,call:0,appointment:0}}},methods:{handleLoad:function(t,e){this.count[t]=e}}}},bc50:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l}));var r=a("b775");function n(t){return Object(r["a"])({url:"/products",method:"get",params:t})}function s(t,e){return Object(r["a"])({url:"/products/".concat(t),method:"get",params:e})}function o(t){return Object(r["a"])({url:"/products",method:"post",data:t})}function l(t,e){return Object(r["a"])({url:"/products/".concat(e),method:"put",data:t})}},d0b8:function(t,e,a){"use strict";var r=a("7562"),n=a.n(r);n.a},df1d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"Xin vui lòng chờ","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:12}},[t.isShow?a("el-row",{attrs:{gutter:50}},t._l(t.form.images,(function(t){return a("el-col",{key:t.name,attrs:{span:4}},[a("el-avatar",{attrs:{fit:"fill",size:100,src:t.path}})],1)})),1):a("UploadImages",{attrs:{images:t.form.images},on:{"handle-upload":function(e){t.form.images=[].concat(e)}}})],1),t._v(" "),a("el-col",{attrs:{offset:0==t.form.images.length&&t.isShow?12:0,span:12}},[t.isEdit?a("el-button",{staticClass:"fr",attrs:{type:"success"},on:{click:t.updateProduct}},[t._v("Sửa sản phẩm")]):t.isShow?a("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/goods/product/edit/"+t.form.id)}}},[t._v("Sửa sản phẩm")]):a("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.createProduct}},[t._v("Thêm sản phẩm")])],1)],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{disabled:t.isShow,model:t.form,rules:t.rules,"label-position":"left","label-width":"120px"}},[a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Thông tin sản phẩm")])]),t._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-switch",{attrs:{"active-value":"product","inactive-value":"service","active-text":"Hàng hóa","inactive-text":"Dịch vụ"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Tên",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã",prop:"code"}},[a("el-input",{model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Đơn vị"}},[a("el-input",{model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Nhà sản xuất"}},[a("el-input",{model:{value:t.form.manufacturer,callback:function(e){t.$set(t.form,"manufacturer",e)},expression:"form.manufacturer"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Nhãn hiệu"}},[a("el-input",{model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand",e)},expression:"form.brand"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã vạch"}},[a("el-input",{model:{value:t.form.barcode,callback:function(e){t.$set(t.form,"barcode",e)},expression:"form.barcode"}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Thông tin giá")])]),t._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Giá mua"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.perchase_price,callback:function(e){t.$set(t.form,"perchase_price",e)},expression:"form.perchase_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Thuế"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.tax,callback:function(e){t.$set(t.form,"tax",e)},expression:"form.tax"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Chi tiết mua"}},[a("el-input",{model:{value:t.form.perchase_detail,callback:function(e){t.$set(t.form,"perchase_detail",e)},expression:"form.perchase_detail"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Giá bán"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.sale_price,callback:function(e){t.$set(t.form,"sale_price",e)},expression:"form.sale_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Nhà phân phối"}},[a("el-input",{model:{value:t.form.distributor,callback:function(e){t.$set(t.form,"distributor",e)},expression:"form.distributor"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Chi tiết bán"}},[a("el-input",{model:{value:t.form.sale_detail,callback:function(e){t.$set(t.form,"sale_detail",e)},expression:"form.sale_detail"}})],1)],1)],1)],1)],1)],1)],1)},n=[],s=(a("96cf"),a("3b8d")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-upload-multiple-image",{attrs:{"data-images":t.images,idUpload:"myIdUpload",editUpload:"myIdEdit"},on:{"upload-success":t.uploadImageSuccess,"before-remove":t.beforeRemove,"edit-image":t.editImage,"mark-is-primary":t.markIsPrimary}})},l=[],c=a("fc5c"),i=(a("bc3a"),{props:["images"],components:{VueUploadMultipleImage:c["a"]},methods:{uploadImageSuccess:function(t,e,a){this.$emit("handle-upload",a)},beforeRemove:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("Bạn có muốn xóa ảnh này?","Cảnh báo",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});case 2:a(),this.$emit("handle-upload",r);case 4:case"end":return t.stop()}}),t,this)})));function e(e,a,r){return t.apply(this,arguments)}return e}(),editImage:function(t,e,a){this.$emit("handle-upload",a)},markIsPrimary:function(t,e){this.$emit("handle-upload",e)}}}),u=i,p=(a("d0b8"),a("2877")),m=Object(p["a"])(u,o,l,!1,null,"cf1de788",null),d=m.exports,f=a("bc50"),h={components:{UploadImages:d},props:["isEdit","isShow"],data:function(){return{form:{id:"",type:"product",name:"",code:"",unit:"",manufacturer:"",brand:"",barcode:"",perchase_price:0,tax:"",perchase_detail:"",sale_price:"",distributor:"",sale_detail:"",images:[]},loading:"",rules:{name:[{required:!0,message:"Hãy nhập tên sản phẩm",trigger:"blur"}],code:[{required:!0,message:"Hãy nhập mã sản phẩm",trigger:"blur"}]}}},methods:{createProduct:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$refs["form"].validate();case 3:return this.loading=!0,t.next=6,Object(f["c"])(this.form);case 6:e=t.sent,a=e.data,this.loading=!1,this.$router.push("/goods/product/show/".concat(a.id)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),getProduct:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(f["b"])(this.$route.params.id,{edit:!0});case 4:for(r in e=t.sent,a=e.data,this.form)this.form[r]=a[r];this.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),updateProduct:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.$refs["form"].validate();case 4:return t.next=6,Object(f["d"])(this.form,this.$route.params.id);case 6:t.sent,this.loading=!1,this.$router.push("/goods/product/show/".concat(this.$route.params.id)),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){(this.isEdit||this.isShow)&&this.getProduct()}},v=h,b=Object(p["a"])(v,r,n,!1,null,null,null);e["a"]=b.exports}}]);