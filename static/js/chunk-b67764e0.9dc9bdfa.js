(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b67764e0"],{8540:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"mb-20"},[n("SearchForm",{attrs:{params:t.params},on:{"handle-search":t.getData}}),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.$router.push("/goods/issue/create")}}},[t._v("Thêm phiếu xuất")])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"handle-delete":t.getData,"update:loading":function(e){t.loading=e}}}),t._v(" "),n("Pagination",{attrs:{pagination:t.pagination},on:{"size-change":function(e){t.params.perPage=e,t.params.page=1,t.getData()},"current-change":function(e){t.params.page=e,t.getData()}}})],1)],1)],1)},r=[],i=(n("96cf"),n("3b8d")),l=n("c67d"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"STT"}}),t._v(" "),n("el-table-column",{attrs:{width:"150",label:"Mã phiếu xuất"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{staticClass:"link",attrs:{tag:"a",to:"/goods/issue/show/"+e.row.id}},[t._v(t._s(e.row.code))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"130",label:"Ngày xuất phiếu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("date")(e.row.date)))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"delivery_man",width:"180",label:"Người giao hàng"}}),t._v(" "),n("el-table-column",{attrs:{prop:"delivery_date",width:"180",label:"Ngày giao hàng"}}),t._v(" "),n("el-table-column",{attrs:{prop:"recipient",width:"180",label:"Người nhận hàng"}}),t._v(" "),n("el-table-column",{attrs:{prop:"phone_number",width:"180",label:"SĐT người nhận"}}),t._v(" "),n("el-table-column",{attrs:{width:"130",label:"Trạng thái"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:e.row.confirmed?"success":"warning","disable-transitions":"",size:"small"}},[t._v(t._s(e.row.confirmed?"Đã xác nhận":"Chưa xác nhận"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"200",prop:"description",label:"Mô tả"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",align:"center",width:"150",label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",disabled:e.row.confirmed,icon:"el-icon-edit",circle:""},on:{click:function(n){return t.$router.push("/goods/issue/edit/"+e.row.id)}}}),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(n){return t.handleDelete(e.row.id)}}})]}}])})],1)},c=[],o={props:["tableData","loading"],methods:{handleDelete:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("Bạn có chắc chắn muốn xóa?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});case 2:return this.openFullScreen(),t.next=5,Object(l["a"])(e);case 5:this.closeFullScreen(),this.$message.success("Xóa dữ liệu thành công"),this.$emit("handle-delete");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},u=o,d=n("2877"),p=Object(d["a"])(u,s,c,!1,null,null,null),h=p.exports,m=n("333d"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{attrs:{span:21}},[n("el-input",{staticClass:"input-text",attrs:{size:"medium",placeholder:"Nhập từ khóa",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("handle-search")}},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}}),t._v(" "),n("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-search",circle:""},on:{click:function(e){return t.$emit("handle-search")}}})],1)},b=[],f={props:["params"]},v=f,w=Object(d["a"])(v,g,b,!1,null,null,null),_=w.exports,y={components:{TableData:h,Pagination:m["a"],SearchForm:_},data:function(){return{tableData:[],loading:!1,pagination:{},params:{perPage:10,page:1,search:""}}},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(l["b"])(this.params);case 4:e=t.sent,n=e.data,a=e.meta,this.tableData=n,this.pagination=a,this.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getData()}},k=y,x=Object(d["a"])(k,a,r,!1,null,null,null);e["default"]=x.exports},c67d:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return c}));var a=n("b775");function r(t){return Object(a["a"])({url:"/issues",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/issues/".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/issues",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/issues/".concat(e),method:"put",data:t})}function c(t){return Object(a["a"])({url:"/issues/".concat(t),method:"delete"})}}}]);