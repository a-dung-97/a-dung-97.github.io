(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df01995e"],{"005c":function(t,a,e){"use strict";e.d(a,"e",(function(){return r})),e.d(a,"g",(function(){return s})),e.d(a,"f",(function(){return o})),e.d(a,"h",(function(){return c})),e.d(a,"b",(function(){return l})),e.d(a,"a",(function(){return u})),e.d(a,"d",(function(){return i})),e.d(a,"c",(function(){return d}));var n=e("b775");function r(t){return Object(n["a"])({url:"/tasks",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/tasks",method:"post",data:t})}function o(t,a){return Object(n["a"])({url:"/tasks/".concat(t),method:"get",params:a})}function c(t,a){return Object(n["a"])({url:"/tasks/".concat(a),method:"put",data:t})}function l(t){return Object(n["a"])({url:"/tasks/".concat(t),method:"delete"})}function u(t,a,e){return Object(n["a"])({url:"/tasks/".concat(a,"/").concat(e),method:"post",data:t})}function i(t,a,e){return Object(n["a"])({url:"/tasks/".concat(a,"/").concat(e),method:"get",params:t})}function d(t){return Object(n["a"])({url:"/tasks/".concat(t,"/finish"),method:"put"})}},"1b22":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-tabs",[e("el-tab-pane",{attrs:{label:"Thông tin"}},[e("Infomation",{on:{customer:function(a){t.customerId=a}}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"Đính kèm "+(t.count.file>0?"("+t.count.file+")":"")}},[e("File",{attrs:{type:"opportunity"},on:{"handle-load":function(a){return t.handleLoad("file",a)}}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"Ghi chú "+(t.count.note>0?"("+t.count.note+")":"")}},[e("Note",{attrs:{type:"opportunity"},on:{"handle-load":function(a){return t.handleLoad("note",a)}}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"Công việc "+(t.count.task>0?"("+t.count.task+")":"")}},[e("Task",{attrs:{customer:t.customerId,type:"opportunity"},on:{"handle-load":function(a){return t.handleLoad("task",a)}}})],1)],1)],1)},r=[],s=e("a881"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-card",[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(a){return t.$router.push("/business/opportunity/edit/"+t.$route.params.id)}}},[t._v("Sửa")])],1)],1),t._v(" "),e("h3",{staticClass:"title"},[t._v("Thông tin cơ hội")]),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Chủ sở hữu")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.owner))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Tên")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.name))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Liên hệ")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.contact?t.data.contact.name:""))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Khách hàng")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.customer?t.data.customer.name:null))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Nguồn")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.source))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Kiểu")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.type))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Bước tiếp theo")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.next_step))])])],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Ngày kết thúc")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t._f("date")(t.data.end_date)))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Trạng thái")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.status))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Xác suất thành công")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.probability_of_success)+" %")])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Giá trị")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.value))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Doanh số kì vọng")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.expected_sales))])])],1),t._v(" "),e("el-row",{staticClass:"item"},[e("el-col",{attrs:{span:10}},[e("p",{staticClass:"my-label"},[t._v("Ngày tạo")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("p",{staticClass:"content"},[t._v(t._s(t._f("datetime")(t.data.created_at)))])])],1)],1)],1),t._v(" "),e("h3",{staticClass:"title"},[t._v("Mô tả")]),t._v(" "),e("el-row",[e("el-col",{attrs:{span:24}},[e("p",{staticClass:"content"},[t._v(t._s(t.data.description))])])],1),t._v(" "),e("Quote",{attrs:{opportunity:t.data}}),t._v(" "),e("Order",{attrs:{opportunity:t.data}})],1)},c=[],l=(e("96cf"),e("3b8d")),u=e("856f"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"mb-20"},[e("h3",{staticClass:"title"},[t._v("\n        Danh sách báo giá\n        "),e("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small",icon:"el-icon-plus",circle:""},on:{click:function(a){return t.$router.push({name:"Thêm mới báo giá",params:{opportunity:t.opportunity}})}}})],1),t._v(" "),e("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"handle-delete":t.getData,"update:loading":function(a){t.loading=a}}})],1)},d=[],p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"STT"}}),t._v(" "),e("el-table-column",{attrs:{label:"Mã"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{staticClass:"link",attrs:{tag:"a",to:"/business/quote/show/"+a.row.id}},[t._v(t._s(a.row.code))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"Trạng thái"}}),t._v(" "),e("el-table-column",{attrs:{prop:"owner",label:"Chủ sở hữu"}}),t._v(" "),e("el-table-column",{attrs:{label:"Ngày báo giá"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("date")(a.row.quote_date)))]}}])})],1)],1)},f=[],m={props:["tableData","loading"]},b=m,h=e("2877"),_=Object(h["a"])(b,p,f,!1,null,null,null),v=_.exports,g={props:["opportunity"],components:{TableData:v},data:function(){return{tableData:[],loading:!1}},methods:{getData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(u["c"])(this.$route.params.id);case 4:a=t.sent,e=a.data,a.meta,this.tableData=e,this.loading=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,this,[[0,11]])})));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getData()}},y=g,C=Object(h["a"])(y,i,d,!1,null,null,null),O=C.exports,w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"mb-20"},[e("h3",{staticClass:"title"},[t._v("\n        Danh sách đơn hàng\n        "),e("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small",icon:"el-icon-plus",circle:""},on:{click:function(a){return t.$router.push({name:"Thêm mới đơn hàng",params:{opportunity:t.opportunity}})}}})],1),t._v(" "),e("TableData",{attrs:{"table-data":t.tableData,loading:t.loading},on:{"handle-delete":t.getData,"update:loading":function(a){t.loading=a}}})],1)},j=[],k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"STT"}}),t._v(" "),e("el-table-column",{attrs:{label:"Mã"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{staticClass:"link",attrs:{tag:"a",to:"/business/quote/show/"+a.row.id}},[t._v(t._s(a.row.code))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"Trạng thái"}}),t._v(" "),e("el-table-column",{attrs:{prop:"owner",label:"Chủ sở hữu"}}),t._v(" "),e("el-table-column",{attrs:{label:"Ngày báo giá"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("date")(a.row.order_date)))]}}])})],1)],1)},x=[],D={props:["tableData","loading"]},T=D,$=Object(h["a"])(T,k,x,!1,null,null,null),S=$.exports,N={props:["opportunity"],components:{TableData:S},data:function(){return{tableData:[],loading:!1}},methods:{getData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(u["b"])(this.$route.params.id);case 4:a=t.sent,e=a.data,a.meta,this.tableData=e,this.loading=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,this,[[0,11]])})));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getData()}},I=N,E=Object(h["a"])(I,w,j,!1,null,null,null),F=E.exports,R={components:{Quote:O,Order:F},data:function(){return{data:""}},methods:{getOpportunity:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.openFullScreen(),t.next=4,Object(u["e"])(this.$route.params.id);case 4:a=t.sent,e=a.data,this.data=e,this.$emit("customer",e.customer.id),this.closeFullScreen(),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),this.closeFullScreen();case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getOpportunity()}},q=R,L=(e("f642"),Object(h["a"])(q,o,c,!1,null,"2bc840eb",null)),z=L.exports,M=e("acfc"),A=e("bb4d"),G=e("63f3"),J={components:{Note:M["a"],File:A["a"],Task:G["a"],Infomation:z},mixins:[s["a"]],data:function(){return{customerId:""}}},K=J,Q=Object(h["a"])(K,n,r,!1,null,null,null);a["default"]=Q.exports},"20d6":function(t,a,e){"use strict";var n=e("5ca1"),r=e("0a49")(6),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e("9c6c")(s)},3699:function(t,a,e){"use strict";e.d(a,"b",(function(){return r})),e.d(a,"c",(function(){return s})),e.d(a,"d",(function(){return o})),e.d(a,"e",(function(){return c})),e.d(a,"a",(function(){return l}));var n=e("b775");function r(t){return Object(n["a"])({url:"/leads",method:"get",params:t})}function s(t,a){return Object(n["a"])({url:"/leads/".concat(t),method:"get",params:a})}function o(t){return Object(n["a"])({url:"/leads",method:"post",data:t})}function c(t,a){return Object(n["a"])({url:"/leads/".concat(a),method:"put",data:t})}function l(t,a){return Object(n["a"])({url:"/leads/convert/".concat(a),method:"post",data:t})}},"4a49":function(t,a,e){"use strict";e.d(a,"b",(function(){return r})),e.d(a,"c",(function(){return s})),e.d(a,"d",(function(){return o})),e.d(a,"e",(function(){return c})),e.d(a,"a",(function(){return l}));var n=e("b775");function r(t){return Object(n["a"])({url:"/customers",method:"get",params:t})}function s(t,a){return Object(n["a"])({url:"/customers/".concat(t),method:"get",params:a})}function o(t){return Object(n["a"])({url:"/customers",method:"post",data:t})}function c(t,a){return Object(n["a"])({url:"/customers/".concat(a),method:"put",data:t})}function l(t,a,e){return Object(n["a"])({url:"/customers/".concat(t,"/").concat(a),method:"get",params:e})}},"4ebe":function(t,a,e){"use strict";e.d(a,"d",(function(){return r})),e.d(a,"e",(function(){return s})),e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return c})),e.d(a,"c",(function(){return l}));var n=e("b775");function r(t){return Object(n["a"])({url:"/notes",method:"get",params:t})}function s(t,a){return Object(n["a"])({url:"/notes/".concat(a),method:"put",data:t})}function o(t){return Object(n["a"])({url:"/notes/".concat(t),method:"delete"})}function c(t,a,e){return Object(n["a"])({url:"/notes/".concat(a,"/").concat(e),method:"post",data:t})}function l(t,a,e){return Object(n["a"])({url:"/notes/".concat(a,"/").concat(e),method:"get",params:t})}},"4fd2":function(t,a,e){},"856f":function(t,a,e){"use strict";e.d(a,"d",(function(){return r})),e.d(a,"f",(function(){return s})),e.d(a,"e",(function(){return o})),e.d(a,"g",(function(){return c})),e.d(a,"a",(function(){return l})),e.d(a,"b",(function(){return u})),e.d(a,"c",(function(){return i}));var n=e("b775");function r(t){return Object(n["a"])({url:"/opportunities",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/opportunities",method:"post",data:t})}function o(t,a){return Object(n["a"])({url:"/opportunities/".concat(t),method:"get",params:a})}function c(t,a){return Object(n["a"])({url:"/opportunities/".concat(a),method:"put",data:t})}function l(t){return Object(n["a"])({url:"/opportunities/".concat(t),method:"delete"})}function u(t,a){return Object(n["a"])({url:"/opportunities/".concat(t,"/orders"),method:"get",params:a})}function i(t,a){return Object(n["a"])({url:"/opportunities/".concat(t,"/quotes"),method:"get",params:a})}},"92de":function(t,a,e){"use strict";e.d(a,"a",(function(){return r})),e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return o}));var n=e("b775");function r(t){return Object(n["a"])({url:"/files/".concat(t),method:"delete"})}function s(t){return Object(n["a"])({url:"/files/download",method:"post",data:t,responseType:"arraybuffer"})}function o(t,a,e){return Object(n["a"])({url:"/files/".concat(a,"/").concat(e),method:"get",params:t})}},a881:function(t,a,e){"use strict";a["a"]={data:function(){return{count:{file:0,note:0,task:0,opportunity:0,order:0,quote:0,email:0,contact:0,call:0,appointment:0}}},methods:{handleLoad:function(t,a){this.count[t]=a}}}},dd64:function(t,a,e){"use strict";e.d(a,"a",(function(){return r})),e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return o})),e.d(a,"d",(function(){return c}));var n=e("b775");function r(t){return Object(n["a"])({url:"/contacts",method:"get",params:t})}function s(t,a){return Object(n["a"])({url:"/contacts/".concat(t),method:"get",params:a})}function o(t){return Object(n["a"])({url:"/contacts",method:"post",data:t})}function c(t,a){return Object(n["a"])({url:"/contacts/".concat(a),method:"put",data:t})}},f642:function(t,a,e){"use strict";var n=e("4fd2"),r=e.n(n);r.a}}]);